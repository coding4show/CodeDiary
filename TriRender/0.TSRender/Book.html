<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" src="jquery-1.12.0.js"></script>
	<script type="text/javascript" src="Render.js"></script>
    <script type="text/javascript" src="Book.js"></script>
    <script type="text/javascript" src="MultiEventProxy.js"></script>
	<script type="text/javascript">
		function WebStart(){
			var canvas = document.getElementById("c");
            Context.InitGL(canvas);
            
            var mep = new MultiEventProxy(["vs", "fs"], function(results){
                
                Context.gl.clear(Context.gl.COLOR_BUFFER_BIT | Context.gl.DEPTH_BUFFER_BIT);
                
                var book = new Book(Context.gl, canvas.width, canvas.height, 10, 10);
                book.vs = results["vs"];
                book.fs = results["fs"];
                
                book.Load();
                book.Draw();
            });
            
            var vsLoader = new FileLoader();
            vsLoader.Load("diff.vs", function(vstext){
                mep.Ready("vs", vstext);
            });   
            
            var fsLoader = new FileLoader();
            fsLoader.Load("diff.fs", function(fstext){
                mep.Ready("fs", fstext);
            });
                    
            $(document).mousemove(function(e){
                $("span").text(e.pageX + ", " + e.pageY + ":" + e.which);
            });
		}
	</script>
</head>

<body onload="WebStart();">
    <span>MouseInfo</span>
    <p align="center">
    
	<canvas width="800" height="600" id="c"></canvas>
    </p>
</body>

</html>